# gen-slice-accessor

## Usage

### 1. Add go:generate directive.

```diff filename="user.go"
package main

import "time"

+//go:generate go run github.com/snamiki1212/gen-slice-accessor --entity User --slice Users --input user.go --output user_gen.go --exclude CreatedAt
type User struct {
  UserID    string
  CreatedAt time.Time
}

type Users []User
```

### 2. Run `go generate` and got generated code.

```diff filename="user_gen.go"
+// Code generated by go generate DO NOT EDIT.
+
+package main
+
+// UserIDs
+func (xs Users) UserIDs() []string {
+	sli := make([]string, 0, len(xs))
+	for i := range xs {
+		sli = append(sli, xs[i].UserID)
+	}
+	return sli
+}
```

## Flags

- `--entity`: (required) Struct name.
- `--slice`: (required) Slice name.
- `--input`: (required) Input file path.
- `--output`: (required) Output file path.
- `--exclude`: Excluded field name to generate slice accessor.

Run the following help command if you would like to know more details.

```zsh
$ go run github.com/snamiki1212/gen-slice-accessor@latest --help
```

## LICENSE

[MIT](./LICENSE)
